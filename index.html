<html>
  <head>
    <title>hobbes</title>
    <style type="text/css">
      #source {
        text-align: center;
      }
      #source textarea {
        width: 90%;
        height: 40%;
      }
      #result {
        width: 90%;
        margin: 0 5%;
        height: 40%;
        background-color: #ccc
      }
    </style>
    <script type="text/javascript" src="hobbes-web.js"></script>
    <script type="text/javascript">
      window.onload = function () {
        var sourceForm = document.getElementById('source');
        sourceTextarea = sourceForm.getElementsByTagName('textarea')[0];
        var execButton = sourceForm.getElementsByTagName('input')[0];
        var outputDIV = document.getElementById('result');

        execButton.onclick = function () {
          // Function creates execution scope
          var src = sourceTextarea.value;
          console.log(hobbes.compiler.parser.parse(src).toString());
          console.log(hobbes.compiler.parser.parse(src).compile());
          hobbes.compiler.run(src);
          return false;
        };
      };
    </script>
  </head>
  <body>
    <form action="" id="source">
      <div><textarea>
import AlgoTools.IO;

public class Collatz {

  public static void main(String [] argv) {

    int x, z;
    
    x = IO.readInt("Bitte eine Zahl: ");
    z = 0;
                                                
    while (x != 1) {                            
        if (x % 2 == 0)                         
            x = x / 2;                          
        else                                    
            x = 3*x+1;                          
        z = z+1;
    }                                           
    IO.println("Anzahl der Iterationen: " + z); 
  }
}
      </textarea></div>
      <input type="submit" value="Execute">
    </form>
    <div id="result">
    </div>
  </body>
</html>
